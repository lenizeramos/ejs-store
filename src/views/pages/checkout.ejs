<!DOCTYPE html>
<html lang="en">
<head>
  <%- include("../partials/head.ejs", { title: "Checkout" , styles:"/css/checkout.css" },) %>
  <link rel="stylesheet" href="/css/home.css" />
  <script src="/js/checkout.js" defer></script>
  </head>
  <body>
    <header><%- include("../partials/header.ejs", {page: "checkout"}) %></header>

    <h1 class="mainTitle">Checkout</h1>

    <div class="tableContainer">
      <% if (checkout.length === 0) { %>
        <p>Your cart is empty. Let's add some items!!</p>
      <% } else { %>
        <table class="itemList">
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>sub Total</th>
          </tr>
  
          <% checkout.forEach(checkoutItem => { %>
          <tr>
            <td><div class="imgContainer">
              <img src="<%= checkoutItem.products.image %>" alt="<%= checkoutItem.products.title %>">
            </div></td>
            <td><p class="title"><%= checkoutItem.products.title %></p></td>
            <td><p>$<%= checkoutItem.products.price %></p></td>
            <td><p><%= checkoutItem.quantity %></p></td>
            <td><p class="totalPrice">$<%= checkoutItem.totalEach %></p></td>
          </tr>
          <% }) %>
        </table>  
      <% } %>  
      <h2 class="totalAll">Total : $<%= total %></h2>
    </div>

    <div class="cancelAndCheckout">
      <a href="/cart" class="btn btn-danger delete-button">Cancel</a>
      <a href="/cart/checkout" class="btn btn-success">Checkout</a>
    </div>

</body>
</html>